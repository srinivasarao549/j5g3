<!DOCTYPE html>
<html>
<head>
	<title>j5g3 - Demos</title>
	<script src="../j5g3-dbg.js"></script>
	<script src="skeleton.js"></script>

	<link rel="stylesheet" href="../styles.css" />

	<script>
	function onload()
	{
	var
		$ = j5g3,
		list = $.id('demos'),
		ajax = new XMLHttpRequest,
		url, game, sources
	;
		$.prerender = false;

		ajax.onreadystatechange = function()
		{
			if (ajax.readyState===4)
			{
				game = eval(ajax.responseText);

				if ($.root) $.pause();
				$.start(game);
			}
		}

		list.onchange = function()
		{
			url = this.value.toLowerCase() + '.js?rnd=' + (new Date()).getTime();
			$.id('screen').style.backgroundColor = '';
			location.hash = '#' + this.value;
			ajax.open('GET', url);
			ajax.send();
		}

		window.view_source = function()
		{
			url = list.value.toLowerCase() + '.js';
			window.open(url, '_blank');			
		}

		list.value = location.hash.substr(1);
		list.onchange();
	}

	</script>

</head>
<body onload="onload()">
	<header>
		<nav>
			<a href="../buy.html">Buy</a>
			<a href="../docs">Documentation</a>
			<a href="https://github.com/giancarlo/j5g3">Source</a>
			<a href="blog">Blog</a>
		</nav>
		<a href="../"><img id="logo" src="../j5g3.png" alt="j5g3" /></a>
	</header>

<div style="text-align: center">
	<h1>Demos</h1>
	<p>Select a demo from the list to start.</p>
	<select id="demos">
		<optgroup label="Demos">
			<option>Impulse</option>
			<option>Clock</option>
			<option>Easing</option>
			<option>Fire</option>
			<option>Font</option>
			<option>Input</option>
			<option>Image</option>
			<option>Gravity</option>
			<option>Particles</option>
			<option>Shadow</option>
			<option>Spritesheet</option>
			<option>Isometric</option>
			<option>Clipping</option>
		</optgroup>
		<optgroup label="Games">
			<option>Pong</option>
		</optgroup>
	</select>
	<a href="javascript: view_source();">View Source</a>
</div>

	<canvas id="screen"></canvas>

	<div id="assets">
		<img id="clock" src="clock.jpg" />
		<img id="hour" src="HourHand.png" />
		<img id="min" src="MinuteHand.png" />
		<img id="sec" src="SecondHand.png" />
		<img id="ball" src="soccer-ball.gif" />
		<img src="spritesheet.png" id="spritesheet" />
		<img id="logo" src="j5g3.png" />
		<img id="skeleton" src="skeleton.png" />
		<img id="skeleton-shadow" src="skeleton-shadow.png" />
		<img id="light" src="light.png" />
		<img id="lightbulb" src="lightbulb.png" />
		<img id="terrain" src="terrain-low.jpg" />
		<img id="iso-terrain" src="iso.png" />
		<img src="sn.jpg" id="pic"/>
		<img id="pong-ss" src="pong.png" />
		<img id="particles" src="particles.png" />

		<audio id="pong" src="pong.ogg" preload="true"></audio>
	</div>

</body>
</html>
