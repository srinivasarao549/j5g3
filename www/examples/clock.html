<html>
<head>
	<title> j5g3 - Clock Example</title>
	<link rel="stylesheet" href="styles.css" />
	<script src="../build/j5g3.js"></script>
	<script>

function game($)
{
	
	var update = function() 
	{
			var 
			    t = new Date,
			    pi = Math.PI,
			    _secs = t.getSeconds() + t.getMilliseconds() / 1000,
			    _mins = t.getMinutes() + _secs / 60,
			    _hours= t.getHours() + _mins / 60
			;

			hour.rotation(pi + pi / 6  * _hours);
			mins.rotation(pi + pi / 30 * _mins);
			secs.rotation(pi + pi / 30 * _secs);
	},
	clock = $.clip( { frames: [[ $.image({ source: 'clock', x: -175, y: -175 }) ]] } ),
	hour  = $.clip( { frames: [[ $.image({ source: 'hour', x: -10, y: 210, scaleY: -1}) ]] } ),
	mins  = $.clip( { frames: [[ $.image({ source: 'min', x: -10, y: 220, scaleY: -1}) ]] } ),
	secs  = $.clip( { frames: [[ $.image({ source: 'sec', x: -10, y: 190, scaleY: -1}) ]] } )
	;

	$.root.add([ clock, hour, mins, secs, update ])
		 .align_children('center')
		 .align_children('middle')
	;

	$.background.fillStyle('white');
	
	$.fps(60).run();
};
	</script>
</head>
<body onload="j5g3.start(game);">
	<canvas id="screen"></canvas>
	<div id="assets">
		<img id="clock" src="clock.jpg" />
		<img id="hour" src="HourHand.png" />
		<img id="min" src="MinuteHand.png" />
		<img id="sec" src="SecondHand.png" />
	</div>
</body>
